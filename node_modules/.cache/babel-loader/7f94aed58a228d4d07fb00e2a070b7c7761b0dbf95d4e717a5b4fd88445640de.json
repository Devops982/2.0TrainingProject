{"ast":null,"code":"import _slicedToArray from\"E:/React Projects/007_React2.0 TrainingProjects/myapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PincodeSearch=function PincodeSearch(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),pincode=_useState2[0],setPincode=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),postOfficeData=_useState4[0],setPostOfficeData=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var handlePincodeChange=function handlePincodeChange(e){setPincode(e.target.value);};var handleSubmit=function handleSubmit(){// Make the API request with the entered PIN code\naxios.get(\"https://api.postalpincode.in/pincode/\".concat(pincode)).then(function(response){console.log(response);// Check if the response contains data and has a valid structure\nif(Array.isArray(response.data)&&response.data.length>0&&Array.isArray(response.data[0].PostOffice)&&response.data[0].PostOffice.length>0){// Access the \"PostOffice\" array\nvar postOfficeArray=response.data[0].PostOffice;// Set the post office data in the state\nsetPostOfficeData(postOfficeArray);setError(null);// Clear any previous errors\n}else{setError(new Error(\"No data found for the entered PIN code.\"));setPostOfficeData([]);// Clear the data\n}}).catch(function(err){console.error(\"Error fetching data:\",err);setError(err);setPostOfficeData([]);// Clear the data\n});};return/*#__PURE__*/_jsxs(\"div\",{className:\"mx-auto mt-10 w-80\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mb-4\",children:\"Pincode Search\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter PIN code\",value:pincode,onChange:handlePincodeChange,className:\"border rounded-md p-2 w-full\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,className:\"bg-blue-500 text-white rounded-md p-2 hover:bg-blue-600\",children:\"Search\"})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-red-500 mt-2\",children:[\"Error: \",error.message]}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mt-4\",children:\"List of Post Offices:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc list-inside\",children:postOfficeData.map(function(office,index){return/*#__PURE__*/_jsxs(\"li\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",office.Name,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Branch Type:\"}),\" \",office.BranchType,/*#__PURE__*/_jsx(\"br\",{})]},index);})})]});};export default PincodeSearch;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","PincodeSearch","_useState","_useState2","_slicedToArray","pincode","setPincode","_useState3","_useState4","postOfficeData","setPostOfficeData","_useState5","_useState6","error","setError","handlePincodeChange","e","target","value","handleSubmit","get","concat","then","response","console","log","Array","isArray","data","length","PostOffice","postOfficeArray","Error","catch","err","className","children","type","placeholder","onChange","onClick","message","map","office","index","Name","BranchType"],"sources":["E:/React Projects/007_React2.0 TrainingProjects/myapp/src/Api/PincodeSearch.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst PincodeSearch = () => {\r\n  const [pincode, setPincode] = useState(\"\");\r\n  const [postOfficeData, setPostOfficeData] = useState([]);\r\n  const [error, setError] = useState(null);\r\n\r\n  const handlePincodeChange = (e) => {\r\n    setPincode(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    // Make the API request with the entered PIN code\r\n    axios\r\n      .get(`https://api.postalpincode.in/pincode/${pincode}`)\r\n      .then((response) => {\r\n        console.log(response);\r\n        // Check if the response contains data and has a valid structure\r\n        if (\r\n          Array.isArray(response.data) &&\r\n          response.data.length > 0 &&\r\n          Array.isArray(response.data[0].PostOffice) &&\r\n          response.data[0].PostOffice.length > 0\r\n        ) {\r\n          // Access the \"PostOffice\" array\r\n          const postOfficeArray = response.data[0].PostOffice;\r\n\r\n          // Set the post office data in the state\r\n          setPostOfficeData(postOfficeArray);\r\n          setError(null); // Clear any previous errors\r\n        } else {\r\n          setError(new Error(\"No data found for the entered PIN code.\"));\r\n          setPostOfficeData([]); // Clear the data\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.error(\"Error fetching data:\", err);\r\n        setError(err);\r\n        setPostOfficeData([]); // Clear the data\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"mx-auto mt-10 w-80\">\r\n      <h2 className=\"text-2xl font-semibold mb-4\">Pincode Search</h2>\r\n      <div className=\"flex space-x-2\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Enter PIN code\"\r\n          value={pincode}\r\n          onChange={handlePincodeChange}\r\n          className=\"border rounded-md p-2 w-full\"\r\n        />\r\n        <button\r\n          onClick={handleSubmit}\r\n          className=\"bg-blue-500 text-white rounded-md p-2 hover:bg-blue-600\"\r\n        >\r\n          Search\r\n        </button>\r\n      </div>\r\n      {error && <div className=\"text-red-500 mt-2\">Error: {error.message}</div>}\r\n      <h2 className=\"text-xl font-semibold mt-4\">List of Post Offices:</h2>\r\n      <ul className=\"list-disc list-inside\">\r\n        {postOfficeData.map((office, index) => (\r\n          <li key={index} className=\"mt-2\">\r\n            <strong>Name:</strong> {office.Name}\r\n            <br />\r\n            <strong>Branch Type:</strong> {office.BranchType}\r\n            <br />\r\n            {/* Add more fields here */}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PincodeSearch;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}